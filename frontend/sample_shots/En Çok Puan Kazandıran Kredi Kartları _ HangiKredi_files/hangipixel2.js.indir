(function(t,e,n,r,i,s){"use strict";var a={id:"",version:s,maskData:false,sendData:true,attributionModel:1,collectionStrategy:2,debug:false};function o(t){var e=parseInt(t.charAt(0));var n=parseInt(t.charAt(1));a.attributionModel=y.isTargetType(e,"Number")&&y.isNumberInRange(e,1,2)?e:a.attributionModel;a.collectionStrategy=y.isTargetType(n,"Number")&&y.isNumberInRange(n,1,3)?n:a.collectionStrategy}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function f(t,e,n){if(e)c(t.prototype,e);if(n)c(t,n);return t}function l(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){l=function t(e){return typeof e}}else{l=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return l(t)}var m=function t(e){return typeof e!=="undefined"&&e!==null&&e!==""&&e!=="undefined"};var d=function t(){return 1*new Date};var g=function t(){return a.version+"-xxxxxxxx-".replace(/[x]/g,(function(t){var e=Math.random()*36|0,n=t=="x"?e:e&3|8;return n.toString(36)}))+(1*new Date).toString(36)};var h=function t(e){if(m(e)===false){return""}else if(l(e)==="object"){return t(JSON.stringify(e))}else if(typeof e==="function"){return t(e())}else{return String(e)}};var v={nameAndVersion:function t(){var e=navigator.userAgent,n,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(r[1])){n=/\brv[ :]+(\d+)/g.exec(e)||[];return"IE "+(n[1]||"")}if(r[1]==="Chrome"){n=e.match(/\b(OPR|Edge)\/(\d+)/);if(n!=null)return n.slice(1).join(" ").replace("OPR","Opera")}r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"];if((n=e.match(/version\/(\d+)/i))!=null)r.splice(1,1,n[1]);return r.join(" ")},isMobile:function t(){return"ontouchstart"in e},userAgent:function e(){return t.navigator.userAgent},operatingSystem:function e(){var n=t.navigator.userAgent||"userAgent",r=t.navigator.platform||"platform",i=["Macintosh","MacIntel","MacPPC","Mac68K"],s=["Win32","Win64","Windows","WinCE"],a=["iPhone","iPad","iPod"];if(i.indexOf(r)!==-1){return"Mac OS"}else if(a.indexOf(r)!==-1){return"iOS"}else if(s.indexOf(r)!==-1){return"Windows"}else if(/Android/.test(n)){return"Android"}else if(/Linux/.test(r)){return"Linux"}return""}};var p={prefix:function t(){return"__"+r+"_"},set:function t(n,r,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"/";var a="";if(m(i)){var o=new Date;o.setTime(o.getTime()+i*60*1e3);a="; expires="+o.toGMTString()}e.cookie=this.prefix()+n+"="+r+a+"; path="+s+"; SameSite=Lax"},get:function t(n){var n=this.prefix()+n+"=";var r=e.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" "){s=s.substring(1)}if(s.indexOf(n)==0)return s.substring(n.length,s.length)}return},delete:function t(e){this.set(e,"",-100)},exists:function t(e){return m(this.get(e))},setUtms:function t(){var e=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"];var n=false;for(var r=0,i=e.length;r<i;r++){if(m(b.getParameterByName(e[r]))){n=true;break}}if(n){var s,a={};for(var r=0,i=e.length;r<i;r++){s=b.getParameterByName(e[r]);if(m(s)){a[e[r]]=s}}this.set("utm",JSON.stringify(a),6*30*24*60)}},getUtm:function t(e){if(this.exists("utm")){var n=JSON.parse(this.get("utm"));return e in n?n[e]:""}}};var b={getParameterByName:function e(n,r){if(!r)r=t.location.href;n=n.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i"),s=i.exec(r);if(!s)return null;if(!s[2])return"";return decodeURIComponent(s[2].replace(/\+/g," "))},getHostNameWithoutSubdomain:function e(n){if(!n)n=new URL(t.location.href);if(toString.call(n)==="[object String]")n=new URL(n);if(toString.call(n)!=="[object URL]")return n;try{n=n.hostname}catch(t){}var r="ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|be|bf|bg|bh|bi|bj|bm|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|cl|cm|cn|co|cr|cu|cv|cw|cx|cz|de|dj|dk|dm|do|dz|ec|ee|eg|es|et|eu|fi|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|im|in|io|iq|ir|is|it|je|jo|jp|kg|ki|km|kn|kp|kr|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|na|nc|ne|nf|ng|nl|no|nr|nu|nz|om|pa|pe|pf|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|yt".split("|");var i="com|edu|gov|net|mil|org|nom|sch|caa|res|off|gob|int|tur|ip6|uri|urn|asn|act|nsw|qld|tas|vic|pro|biz|adm|adv|agr|arq|art|ato|bio|bmd|cim|cng|cnt|ecn|eco|emp|eng|esp|etc|eti|far|fnd|fot|fst|g12|ggf|imb|ind|inf|jor|jus|leg|lel|mat|med|mus|not|ntr|odo|ppg|psc|psi|qsl|rec|slg|srv|teo|tmp|trd|vet|zlg|web|ltd|sld|pol|fin|k12|lib|pri|aip|fie|eun|sci|prd|cci|pvt|mod|idv|rel|sex|gen|nic|abr|bas|cal|cam|emr|fvg|laz|lig|lom|mar|mol|pmn|pug|sar|sic|taa|tos|umb|vao|vda|ven|mie|åŒ—æµ·é“|å’Œæ­Œå±±|ç¥žå¥ˆå·|é¹¿å…å³¶|ass|rep|tra|per|ngo|soc|grp|plc|its|air|and|bus|can|ddr|jfk|mad|nrw|nyc|ski|spy|tcm|ulm|usa|war|fhs|vgs|dep|eid|fet|fla|flÃ¥|gol|hof|hol|sel|vik|cri|iwi|ing|abo|fam|gok|gon|gop|gos|aid|atm|gsm|sos|elk|waw|est|aca|bar|cpa|jur|law|sec|plo|www|bir|cbg|jar|khv|msk|nov|nsk|ptz|rnd|spb|stv|tom|tsk|udm|vrn|cmw|kms|nkz|snz|pub|fhv|red|ens|nat|rns|rnu|bbs|tel|bel|kep|nhs|dni|fed|isa|nsn|gub|e12|tec|Ð¾Ñ€Ð³|Ð¾Ð±Ñ€|ÑƒÐ¿Ñ€|alt|nis|jpn|mex|ath|iki|nid|gda|inc".split("|");n=n.replace(/^www\./,"");var s=n.split(".");while(s.length>3){s.shift()}if(s.length===3&&(s[1].length>2&&s[2].length>2||i.indexOf(s[1])===-1&&r.indexOf(s[2])===-1)){s.shift()}return s.join(".")},externalHost:function t(e){return e.hostname!=location.hostname&&e.protocol.indexOf("http")===0}};var k={attribute:function t(){var e=g();var n=this.detectSessionSource();var r=p.get("ssid");var i=p.get("ssrc");var s=p.getUtm("utm_content");var a=p.get("lndssrc");var o=p.get("utm");var u=p.get("lndssid");var c=this.calculateExistingState(a,u,i);var f=this.stateMachine(c,n,i,a);var l=b.getParameterByName("utm_content");var m=p.get("hktrxid_mr");var d=l?l:m;this.runAttribution(f,e,n,i,r,u,a,s,o,d)},runAttribution:function t(e,n,r,i,s,o,u,c,f,l){if(a.debug){console.log("flow: "+e)}if(e==="s0s1"||e==="s5s1"){p.set("ssid",n,30);p.set("ssrc",r,30);return}if(e==="s1s1"){p.set("ssid",s,30);p.set("ssrc",i,30);return}if(e==="s2s4"||e==="s3s4"||e==="s3s2-a"||e==="s4s2-a"){p.set("ssid",n,30);p.set("ssrc",r,30);p.set("lndssid",o,6*30*24*60);p.set("lndssrc",u,6*30*24*60);if(m(l)){p.set("hktrxid_mr",l,30)}if(m(c)){p.set("hktrxid",c,6*30*24*60)}if(m(f)){p.set("utm",f,6*30*24*60)}return}if(e==="s2s2-a"||e==="s4s4"){p.set("ssid",s,30);p.set("ssrc",i,30);p.set("lndssid",o,6*30*24*60);p.set("lndssrc",u,6*30*24*60);if(m(l)){p.set("hktrxid_mr",l,30)}if(m(c)){p.set("hktrxid",c,6*30*24*60)}if(m(f)){p.set("utm",f,6*30*24*60)}return}if(e==="s0s2"||e==="s1s2"||e==="s2s2-b"||e==="s3s2-b"||e==="s4s2-b"||e==="s5s2"){p.set("ssid",n,30);p.set("ssrc",r,30);p.set("lndssid",n,6*30*24*60);p.set("lndssrc",r,6*30*24*60);p.setUtms();if(m(l)){p.set("hktrxid_mr",l,30)}var d=p.getUtm("utm_content");if(m(d)){p.set("hktrxid",d,6*30*24*60)}return}},stateMachine:function t(e,n,r,i){if(a.debug){console.log("existing state: "+e)}e=e==="sx"?"s0":e;var s={s0s1:e==="s0"&&n==="direct",s0s2:e==="s0"&&n!=="direct",s1s1:e==="s1"&&n==="direct",s1s2:e==="s1"&&n!=="direct",s2s4:e==="s2"&&n==="direct","s2s2-a":e==="s2"&&n===r,"s2s2-b":e==="s2"&&n!==r,s3s4:e==="s3"&&n==="direct","s3s2-a":e==="s3"&&n===i,"s3s2-b":e==="s3"&&n!==i,s4s4:e==="s4"&&n==="direct","s4s2-a":e==="s4"&&n===i,"s4s2-b":e==="s4"&&n!==i,s5s1:e==="s5"&&n==="direct",s5s2:e==="s5"&&n!=="direct"};for(const[t,e]of Object.entries(s)){if(e){return t}}},calculateExistingState:function t(e,n,r){var i={s0:(!m(n)||!m(e))&&!m(r),s1:(!m(n)||!m(e))&&r==="direct",s2:m(n)&&m(e)&&m(r)&&r!=="direct",s3:m(n)&&m(e)&&!m(r),s4:m(n)&&m(e)&&r==="direct",s5:(!m(n)||!m(e))&&r!=="direct",sx:true};for(const[t,e]of Object.entries(i)){if(e){return t}}},detectSessionSource:function e(){var n=b.getParameterByName("utm_source");var r=b.getParameterByName("utm_medium")||"none";var i=b.getParameterByName("utm_campaign")||"none";var s=p.get("ssrc");if(a.debug){p.set("ntp",performance.getEntriesByType("navigation")[0].type);p.set("referrer",t.document.referrer)}if(performance.getEntriesByType("navigation")[0].type=="back_forward"){var o=typeof s!=="undefined"?s:"direct";return o}if(n&&n.length)return n+"/"+r+"/"+i;var u=[{name:"gclid",alias:"google/paid"},{name:"fbclid",alias:"facebook/paid"},{name:"yclid",alias:"yandex/paid"}],c=0;for(;c<u.length;c++){var f=u[c]["name"];var l=b.getParameterByName(f);if(l&&l.length)return u[c]["alias"]}return this.attributeExternalDirectOrInternalNavigation(s)},attributeExternalDirectOrInternalNavigation:function e(n){var r=t.location.href;var i=t.document.referrer;var s=b.getHostNameWithoutSubdomain(r);var a=b.getHostNameWithoutSubdomain(i);if(i){if(s===a){var o=typeof n!=="undefined"?n:"direct";return o}return a}return"direct"},isAttributedSession:function t(e){var n=p.get(e);if(!n)return false;var r=["hangikredi","hngsnet"];var i=r.filter((function(t){return n.toLowerCase().indexOf(t)>-1})).length?true:false;return i},isHkAttributed:function t(){var e=a.attributionModel;if(e===1){return this.isAttributedSession("lndssrc")}else if(e===2){return this.isAttributedSession("ssrc")}else{return false}},decideDataCollection:function t(){var e=a.collectionStrategy;var n=this.isHkAttributed();if(e===2&&!n){a.maskData=true}if(e===3&&!n){a.sendData=false}}};var y={isTargetType:function t(e,n){return toString.call(e)==="[object "+n+"]"},isNumberInRange:function t(e,n,r){return e>=n&&e<=r}};var x=function(){function n(t,e,r){u(this,n);this.params=[];this.event=t;this.timestamp=e;this.optional=h(r);this.buildParams();this.send()}f(n,[{key:"buildParams",value:function t(){var e=this.getAttribute();for(var n in e){if(e.hasOwnProperty(n)){this.setParam(n,e[n](n))}}}},{key:"getAttribute",value:function n(){var r=this;return{id:function t(){return a.id},uid:function t(){return p.get("uid")},ev:function t(){return r.event},ed:function t(){return r.optional},v:function t(){return a.version},dl:function e(){if(a.maskData){return"*"}return t.location.href},rl:function t(){if(a.maskData){return"*"}return e.referrer},ts:function t(){return r.timestamp},de:function t(){return e.characterSet},sr:function e(){return t.screen.width+"x"+t.screen.height},vp:function e(){return t.innerWidth+"x"+t.innerHeight},cd:function e(){return t.screen.colorDepth},dt:function t(){return e.title},bn:function t(){return v.nameAndVersion()},md:function t(){return v.isMobile()},ua:function t(){return v.userAgent()},tz:function t(){return(new Date).getTimezoneOffset()},utm_source:function t(e){if(a.maskData){return"*"}return p.getUtm(e)},utm_medium:function t(e){if(a.maskData){return"*"}return p.getUtm(e)},utm_term:function t(e){if(a.maskData){return"*"}return p.getUtm(e)},utm_content:function t(e){if(a.maskData){return"*"}return p.getUtm(e)},utm_campaign:function t(e){if(a.maskData){return"*"}return p.getUtm(e)},ssrc:function t(){if(a.maskData){return"*"}return p.get("ssrc")},lndssrc:function t(){if(a.maskData){return"*"}return p.get("lndssrc")},hktrxid:function t(){if(a.maskData){return"*"}return p.get("hktrxid")},hktrxid_mr:function t(){if(a.maskData){return"*"}return p.get("hktrxid_mr")},ssid:function t(){return p.get("ssid")},lndssid:function t(){return p.get("lndssid")}}}},{key:"setParam",value:function t(e,n){if(m(n)){this.params.push("".concat(e,"=").concat(encodeURIComponent(n)))}else{this.params.push("".concat(e,"="))}}},{key:"send",value:function e(){t.navigator.sendBeacon?this.sendBeacon():this.sendImage()}},{key:"sendBeacon",value:function e(){t.navigator.sendBeacon(this.getSourceUrl())}},{key:"sendImage",value:function t(){this.img=e.createElement("img");this.img.src=this.getSourceUrl();this.img.style.display="none";this.img.width="1";this.img.height="1";e.getElementsByTagName("body")[0].appendChild(this.img)}},{key:"getSourceUrl",value:function t(){return"".concat(i,"?").concat(this.params.join("&"))}}]);return n}();p.exists("uid")?p.set("uid",p.get("uid"),2*365*24*60):p.set("uid",g(),2*365*24*60);n.process=function(t,e,n,r){if(t=="init"){o(r);a.id=e;k.attribute()}else if(t=="event"){k.decideDataCollection();if(a.sendData){new x(e,d(),n)}}};for(var w=0,S=n.queue.length;w<S;w++){n.process.apply(n,n.queue[w])}t.onload=function(){var t=e.getElementsByTagName("a");for(var n=0,r=t.length;n<r;n++){t[n].addEventListener("click",function(t){if(b.externalHost(this)){a.externalHost={link:this.href,time:d()}}}.bind(t[n]))}}})(window,document,window["hangipix"],"hangipix","https://pixel.hangikredi.com/pixel/api/v1/",5);
