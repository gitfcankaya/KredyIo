(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{91453:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return CompareTable}});var r,l=a(57437),n=a(2265),s=a(61396),i=a.n(s),d=a(20130),o=a.n(d),c=a(16691),m=a.n(c),u=a(94903),x=a(97743),p=a(5314),h=a(32999),g=a(78885),f=a(52539),b=a(18665),v=a(40813),j=a(61865),y=a(92278),N=a.n(y),k=a(2347),w=a(70865),C=a(61408),S=a.n(C),L=a(57042),A=a(74769),E=a(20589),z=a.n(E);let gAEvent=(e,t,a)=>{f.W.gAEvent({eventCategory:e,eventAction:t,eventLabel:a})},ComboboxListMobile=e=>{let{options:t,searchPlaceHolder:a="Kredi kartı ara",search:r=!0,handleClick:s,activeOptions:i,onOptionsChange:d,onApply:o,eventCategory:c,eventAction:m,eventLabel:x,clickableClear:g=!1,maxSelectionCount:b,pageName:j,enableScroll:y=!0,maxVisibleOptions:N=10,noResultsText:k="Sonu\xe7 bulunamadı"}=e,[w,C]=(0,n.useState)(t),[E,F]=(0,n.useState)(""),[T,O]=(0,n.useState)(!1),[I,K]=(0,n.useState)(!1),{setCurrentOptions:M}=(0,h.R)(),sendImpressionEvent=e=>{var t;let a=null!==(t=(0,v.ej)("segmentId"))&&void 0!==t?t:"nonModelList",r=e.map((e,t)=>({name:"".concat(e.bankName||""," ").concat(e.name||""),id:parseInt(e.code),price:"10.0",brand:e.bankName||"",list:j||"",category:"Kredi Kartı",item_adrModelId:a,position:t+3,quantity:1,sponsorship:"Hayır"}));f.W.productImpressionEvent({adrModelId:a,impressions:r,eventLabel:"Kredi Kartı"})},toggleOption=e=>{let t=i.some(t=>t.code===e.code),a=t?i.filter(t=>t.code!==e.code):[...i,e];(t||void 0===b||!(i.length>=b))&&(d(a),s&&s(e))};if((0,n.useEffect)(()=>(O(!0),()=>F("")),[]),(0,n.useEffect)(()=>{if(E.length>0){let e=t.filter(e=>{let t=E.toLowerCase(),a="".concat(e.name," ").concat(e.bankName).toLowerCase();return a.includes(t)});C(e)}else C(t)},[E,t]),!T)return null;y&&w.length;let D=0===w.length&&E.length>0;return(0,l.jsxs)("div",{className:"fixed left-0 top-0 z-50 flex size-full flex-col bg-white",children:[(0,l.jsxs)("div",{className:"relative mb-4 flex shrink-0 items-center justify-center bg-white px-5 pt-5",children:[(0,l.jsx)("button",{onClick:()=>o&&o(),className:"absolute left-5",children:(0,l.jsx)(p.Tw,{className:"size-5 font-bold"})}),(0,l.jsx)("span",{className:"text-center text-base font-semibold leading-6 text-generic-black",children:"Kredi Kartı Ekle"})]}),(0,l.jsxs)("div",{className:"min-h-0 flex-1 overflow-hidden px-5",children:[r&&(0,l.jsx)("div",{className:"relative mb-4",children:(0,l.jsxs)("div",{className:(0,L.Z)("relative rounded-lg border transition-colors",{"border-primary-500":I||E.length>0,"border-neutral-200":!I&&0===E.length}),"data-testid":"search-component",children:[(0,l.jsx)(p.ol,{width:20,height:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400","data-testid":"icon"}),(0,l.jsx)("input",{className:"h-[36px] w-full rounded-lg border-none bg-transparent pl-10 pr-3 font-semibold text-gray-800 outline-none placeholder:text-neutral-400",placeholder:a,value:E,onChange:e=>{let{value:t}=e.target;/^[a-zA-ZçÇğĞıİöÖşŞüÜ0-9](?:[a-zA-ZçÇğĞıİöÖşŞüÜ0-9 ]+)?$|^$/.test(t)&&F(t)},onFocus:()=>K(!0),onBlur:()=>K(!1),maxLength:50,"data-testid":"input"})]})}),(0,l.jsx)("div",{className:"h-full pb-4",children:(0,l.jsx)("ul",{className:"flex h-full flex-col gap-3 overflow-y-auto overflow-x-hidden ".concat(z().customScroll," pr-3"),children:D?(0,l.jsxs)("li",{className:"flex flex-col items-center justify-center px-4 py-8 text-center","data-testid":"li",children:[(0,l.jsx)("span",{className:"max-w-full break-words text-base font-semibold leading-relaxed text-neutral-900","data-testid":"title",children:'"'.concat(E,'" ile ilgili herhangi bir sonu\xe7 bulunamadı.')}),(0,l.jsx)("p",{className:"mt-1 max-w-full break-words text-xs text-neutral-500","data-testid":"description",children:k})]}):S()(w,e=>{let t=i.some(t=>t.code===e.code),a=e.disabled||!t&&void 0!==b&&i.length>=b;return(0,l.jsx)("li",{"data-testid":"li",children:(0,l.jsxs)("button",{className:(0,L.Z)("flex w-full items-center gap-2 text-left font-normal",{"text-generic-black":!a,"text-neutral-400 cursor-not-allowed":a}),type:"button",onClick:()=>toggleOption(e),disabled:a,"data-testid":"checkbox",children:[(0,l.jsx)("span",{className:(0,L.Z)("flex size-5 shrink-0 items-center justify-center rounded border",t?"bg-primary-500":a?"bg-[#E7E7E7]":"border-[#B0B0B0] bg-white"),children:t&&(0,l.jsx)(p.Ye,{className:"text-white"})}),(0,l.jsxs)("span",{"data-testid":"title",children:[e.name," - ",e.bankName]})]})},e.code)})})})]}),(0,l.jsxs)("div",{className:"flex shrink-0 gap-3 border-t border-neutral-100 bg-white p-4 shadow-[0_-2px_8px_rgba(0,0,0,0.1)]",children:[(0,l.jsx)(u.zx,{variant:u.Lp.Variant.Outlined,size:u.Lp.Size.Small,"data-testid":"clear-button",className:(0,A.m6)((0,L.Z)("w-[30%] rounded border px-4 py-2 text-sm font-medium hover:!bg-primary-50 hover:!text-primary-500 ",{"!text-primary-200 !border-primary-200 !bg-white !pointer-events-none":g&&0===i.length||D})),onClick:()=>d([]),disabled:D,children:"Temizle"}),(0,l.jsx)(u.zx,{variant:u.Lp.Variant.Filled,size:u.Lp.Size.Small,onClick:()=>{M(i),"function"==typeof o&&o(),i.length>0&&(i.forEach(e=>{(null==e?void 0:e.name)&&gAEvent(c,m,"".concat(x," - ").concat(e.name," - ").concat(e.bankName))}),sendImpressionEvent(i))},"data-testid":"apply-button",className:(0,A.m6)((0,L.Z)("w-[70%] flex-1 text-sm font-medium",{"!border-primary-200 !bg-primary-200 !pointer-events-none":D})),disabled:D,children:"Uygula"})]})]})},AddCompare=e=>{var t,a;let{name:r,defaultValue:s,options:i,disabled:d,search:o=!0,searchPlaceHolder:c="Kredi kartı ara",activeOptions:m,onOptionsChange:u,isOpen:x,onToggleOpen:p,pageName:h,maxSelectionCount:f}=e,b=(0,n.useRef)(null),[v,y]=(0,n.useState)(i),[C,S]=(0,n.useState)(""),[L,A]=(0,n.useState)(!1),E=(0,j.Gc)();null==E||null===(t=E.formState)||void 0===t||t.errors;let z=null!==(a=null==E?void 0:E.register)&&void 0!==a?a:()=>({ref:null}),{ref:F}=z(r,{disabled:d,value:s}),{userAgent:T}=(0,g.Z)(),handleOptionsChange=e=>{"function"==typeof e?u(e(m)):u(e)};return((0,k.N)(b,()=>{T.isMobile||(p(!1),S(""))}),(0,n.useEffect)(()=>(A(!0),()=>S("")),[]),(0,n.useEffect)(()=>{if(C.length>0){let e=N()(i,e=>e.name.toLocaleLowerCase("tr").includes(C.toLocaleLowerCase("tr")));y(e)}else y(i)},[C,i]),L)?(0,l.jsxs)("div",{ref:b,className:"relative","data-testid":"add-compare-component",children:[(0,l.jsx)("button",{ref:F,onClick:()=>p(!x),"data-testid":"image",className:"flex h-[78px] w-[124px] items-center justify-center rounded-[4px] border-2 border-dashed border-[#B4C5D8] bg-[#F0F4F7] text-center md:h-[88px] md:w-[180px]",children:(0,l.jsx)("span",{className:"text-3xl text-[#96AEC8]",children:"+"})}),x&&(T.isMobile?(0,l.jsx)(ComboboxListMobile,{name:r,options:v,activeOptions:m,onOptionsChange:handleOptionsChange,searchPlaceHolder:c,inputValue:C,search:o,onApply:()=>p(!1),eventCategory:"Widget Click",eventAction:"Kredi Kartı Karşılaştırma",eventLabel:"Kart Ekle",maxSelectionCount:f,pageName:h}):(0,l.jsx)(w.G,{name:r,options:v,searchPlaceHolder:c,inputValue:C,search:o,activeOptions:m,setActiveOptions:handleOptionsChange,onApply:()=>{p(!1)},eventType:"Compare",eventCategory:"Widget Click",eventAction:"Kredi Kartı Karşılaştırma",eventLabel:"Kart Ekle",maxSelectionCount:f,pageName:h}))]}):null},F=null!==(r=(0,v.ej)("segmentId"))&&void 0!==r?r:"nonModelList",CompareTable_gAEvent=e=>{f.W.gAEvent({eventCategory:"Widget Click",eventAction:"Kredi Kartı Karşılaştırma",eventLabel:"".concat(e)})};function CompareTable(e){let{data:t,optionsData:a=[],pageName:r,eventData:s}=e,d=(0,h.R)(e=>e.currentOptions),c=(0,h.R)(e=>e.setCurrentOptions);(0,h.R)(e=>e.addToCompareList);let[v,j]=(0,n.useState)(t),[y,N]=(0,n.useState)([]),{userAgent:k}=(0,g.Z)(),[w,C]=(0,n.useState)(!1),{ref:S,inView:L}=(0,x.YD)({threshold:0,triggerOnce:!0}),[A,E]=(0,n.useState)(!1),z=a.map(e=>{var t,a,r,l;return{code:String(e.productId),name:null!==(t=e.productName)&&void 0!==t?t:"",bankName:null!==(a=e.bankName)&&void 0!==a?a:"",count:e.campaignCount,disabled:!1,formattedWorkplaceCount:null!==(r=e.formattedWorkplaceCount)&&void 0!==r?r:"",formattedAtmCount:null!==(l=e.formattedAtmCount)&&void 0!==l?l:""}});(0,n.useEffect)(()=>{if(!a.length)return;if(0===d.length){j(t);return}let e=[...t];d.forEach(t=>{let r=a.find(e=>String(e.productId)===t.code),l=e.some(e=>String(e.productId)===t.code);r&&!l&&e.push(r)}),j(e)},[d,a,t]);let handleRemove=(e,t,a)=>{let r=v.filter(t=>t.productId!==e);j(r);let l=String(e);N(y.filter(e=>e.code!==l)),c(d.filter(e=>e.code!==l)),C(!1),CompareTable_gAEvent("Kart \xc7ıkar - ".concat(t," - ").concat(a))},T=(0,n.useCallback)(e=>{let t=o()(e,4);t.forEach((e,t)=>{let a=(0,b._x)({data:e.map(e=>({...e,id:e.productId,name:e.name||""})),eventData:s,segmentId:F,startIndex:4*t,id:e[0].productId});f.W.productImpressionEvent({adrModelId:F,impressions:a,eventLabel:"Kredi Kartı"})})},[s]),renderAddCompare=e=>{let{name:a,options:n,activeOptions:s,setActiveOptions:i,handleClick:d}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(AddCompare,{className:"h-[50px] w-full md:w-[279px]",labelClassName:"!text-black w-full font-medium",name:a,search:!0,options:n,activeOptions:s,onOptionsChange:i,handleClick:e=>d(e.code),isOpen:w,onToggleOpen:C,pageName:r,maxSelectionCount:5-t.length}),(0,l.jsxs)("div",{className:"gap-3",children:[(0,l.jsx)("p",{className:"text-center text-base font-medium leading-[24px] text-generic-black",children:"Karşılaştırmak istediğin kartı se\xe7."}),(0,l.jsx)("p",{className:"text-center text-sm font-normal leading-[20px] text-neutral-500",children:'"+" tıklayarak ekleyebilirsin.'})]})]})},handleSourceCurrency=e=>{},getAddToCartProduct=(e,t)=>{var a,r;return(0,b.GF)({product:e,position:t+1,segmentId:F,list:s.pageName,midCategory:s.midCategory,productName:null!==(a="".concat(e.bankName," ").concat(e.name))&&void 0!==a?a:"",brand:null!==(r=e.bankName)&&void 0!==r?r:"",id:e.productId})},addToCartProduct=(e,t)=>{f.W.addToCartProduct({adrModelId:F,products:[getAddToCartProduct(e,t)],eventLabel:"Kredi Kartı"})},productClick=(e,t)=>{f.W.productClickEvent({adrModelId:F,products:[getAddToCartProduct(e,t)],eventLabel:"Kredi Kartı"})};(0,n.useEffect)(()=>{if(L&&!A){let e=setTimeout(()=>{T(v),E(!0)},2e3);return()=>clearTimeout(e)}},[L,A,v,T]);let O=5!==v.length,I=Math.min(v.length+(O?1:0),5),K=k.isMobile,renderCardHeader=(e,a)=>(0,l.jsx)("th",{className:"border-b border-r border-gray-300 bg-white p-3 align-top last:border-r-0 md:p-4",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsxs)("tbody",{children:[(0,l.jsx)("tr",{"data-testid":"table-row",children:(0,l.jsx)("td",{className:"pb-4 text-center",children:(0,l.jsxs)("div",{className:"relative inline-block",children:[t.length-1<a&&(0,l.jsx)("button",{onClick:()=>handleRemove(e.productId,e.name||"",e.bankName||""),className:"absolute left-[-10px] top-[-10px] flex size-6 items-center justify-center rounded-full border border-[#D1D1D1] bg-white p-1 md:size-8",children:(0,l.jsx)(p.Tw,{className:"size-4","data-testid":"icon"})}),K?(0,l.jsx)(m(),{src:e.imagePath,alt:e.name||"",width:124,height:78,className:"block h-[78px] w-[124px] object-contain md:hidden","data-testid":"image"}):(0,l.jsx)(m(),{src:e.imagePath,alt:e.name||"",width:180,height:112,"data-testid":"image",className:"hidden h-[112px] w-[180px] object-contain md:block"})]})})}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"pb-4 text-center",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsxs)("tbody",{children:[(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"max-w-[140px] overflow-hidden truncate whitespace-nowrap text-center text-base font-semibold leading-[24px] text-generic-black md:max-w-[180px] md:text-lg md:leading-[28px]","data-testid":"title",children:e.name})}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"text-center text-sm font-normal leading-[20px] text-neutral-500","data-testid":"description",children:e.bankName})})]})})})}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"pb-4 text-center",children:e.recourseUrl&&(0,l.jsx)(i(),{href:e.recourseUrl,className:"flex w-full gap-2",onClick:()=>addToCartProduct(e,a),"data-testid":"button",children:(0,l.jsxs)(u.zx,{className:"flex !h-10 w-full items-center gap-[6px] border border-secondary-500 bg-secondary-500 text-sm font-medium text-white hover:!bg-secondary-500 md:gap-2",children:[(0,l.jsx)(p.qv,{className:"size-5 md:size-6"}),(0,l.jsx)("span",{className:"leading-none",children:"Hemen Başvur"})]})})})}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"text-center text-sm text-orange-500",children:e.detailUrl&&(0,l.jsx)(i(),{href:e.detailUrl,className:"py-[10px] text-center text-sm font-medium leading-[20px] text-[#F26722] ",onClick:()=>productClick(e,a),"data-testid":"link",children:"Detay"})})})]})})},e.productId),renderDataRow=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,l.jsxs)("tr",{className:"".concat(a?"bg-[#F0F4F7]":"bg-white"," \n    [&>td]:border-b [&>td]:border-gray-300 ").concat(r?"[&>td]:!border-b-0":""),children:[v.map(a=>(0,l.jsx)("td",{className:"border-r border-gray-300 p-3 last:border-r-0",children:(0,l.jsx)("table",{className:"w-full",children:(0,l.jsxs)("tbody",{children:[(0,l.jsx)("tr",{"data-testid":"table-row",children:(0,l.jsx)("td",{className:"pb-1 text-xs font-normal leading-[16px] text-neutral-500 md:text-sm md:leading-[20px]","data-testid":"title",children:e})}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"self-stretch text-sm font-semibold leading-[20px] text-generic-black md:text-base md:leading-[24px]","data-testid":"description",children:t(a)})})]})})},"".concat(a.productId,"-").concat(e))),O&&(0,l.jsx)("td",{className:"bg-white p-3 last:border-b-0 last:border-r-0"})]})};return(0,n.useEffect)(()=>(w&&K?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[w,K]),(0,l.jsx)("div",{className:"py-6 md:py-12","data-testid":"compare-component",ref:S,children:(0,l.jsxs)("div",{className:"container grid grid-flow-row gap-8 px-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold leading-[32px] tracking-[-0.48px] text-generic-black","data-testid":"title",children:"Sizin i\xe7in pop\xfcler kredi kartlarını karşılaştırdık"}),(0,l.jsx)("p",{className:"text-sm font-normal leading-[20px] text-[#3D3D3D]","data-testid":"description",children:"Bankaların en pop\xfcler kredi kartlarını sağladığı avantajlara g\xf6re karşılaştırma yapabilir, size en uygun kredi kartını se\xe7ebilirsiniz."})]}),K&&(0,l.jsxs)("button",{className:"flex flex-col gap-1",onClick:()=>C(!0),children:[(0,l.jsx)("div",{className:"flex text-sm font-medium leading-5 text-generic-black",children:"Kredi kartlarını karşılaştır"}),(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-md border border-[#B0B0B0] p-3",children:[(0,l.jsx)("span",{className:"".concat(d.length<=0?"text-[#888888]":""," ml-0 max-w-[290px] overflow-hidden truncate whitespace-nowrap"),children:d.length>0?d.map(e=>e.name).join(", "):"Kart se\xe7"}),(0,l.jsx)(p._Q,{className:"flex size-4 shrink-0"})]})]}),K&&(null==z?void 0:z.length)>0&&(0,l.jsx)("div",{style:{display:w?"block":"none"},children:renderAddCompare({name:"sourceCurrency",options:z,activeOptions:y,setActiveOptions:N,handleClick:handleSourceCurrency})}),(0,l.jsx)("div",{className:"md:scrollbar-default rounded-xl pb-[10px] md:overflow-visible md:pb-0 \n            ".concat(w&&K?"hidden":"block"," \n            ").concat(w?"overflow-visible":"overflow-x-auto"),"data-testid":"compare-table-area",children:(0,l.jsx)("div",{className:"inline-block rounded-[12px] border border-gray-300 ".concat(w?"overflow-visible":"overflow-hidden"),style:{width:K?164*I:"".concat(20*I,"%")},"data-testid":"compare-table",children:(0,l.jsxs)("table",{className:"w-full table-fixed",children:[(0,l.jsx)("colgroup",{children:Array.from({length:I}).map((e,t)=>(0,l.jsx)("col",{style:K?{width:164}:{width:"20%"}},t))}),(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[v.map((e,t)=>renderCardHeader(e,t)),5!==v.length&&(0,l.jsx)("th",{className:"bg-white p-0 align-top last:border-r-0","data-testid":"compare-table-header",children:(0,l.jsx)("table",{className:"w-full p-0",children:(0,l.jsx)("tbody",{className:"p-0","data-testid":"compare-table-body",children:(0,l.jsx)("tr",{className:"p-0",children:(0,l.jsx)("td",{className:"p-0",children:(0,l.jsx)("div",{className:"relative z-50 w-full overflow-visible border-b border-gray-300","data-testid":"compare-table-cell",children:(0,l.jsx)("div",{className:"flex w-full flex-col items-center justify-center gap-5 p-3 md:px-4 md:py-5",children:(null==z?void 0:z.length)>0&&renderAddCompare({name:"sourceCurrency",options:z,activeOptions:y,setActiveOptions:N,handleClick:handleSourceCurrency})})})})})})})})]})}),(0,l.jsxs)("tbody",{children:[renderDataRow("Yıllık \xfccret",e=>e.formattedAnnualFee||"-",!0),renderDataRow("Kampanya sayısı",e=>{var t,a;return e.campaignCount&&e.campaignCount>0?(0,l.jsx)(i(),{href:"/kredi-karti/kampanyalar?productId=".concat(e.productId),prefetch:!1,className:"text-sm font-normal leading-[20px] text-[#4A49BB] underline decoration-solid md:text-base md:leading-[24px]","aria-label":"".concat(null!==(t=e.bankName)&&void 0!==t?t:""," ").concat(null!==(a=e.name)&&void 0!==a?a:""," kampanyaları"),children:"".concat(e.campaignCount," Kampanya")}):"-"}),renderDataRow("\xdcye iş yeri sayısı",e=>e.formattedWorkplaceCount||"-",!0),renderDataRow("ATM sayısı",e=>e.formattedAtmCount||"-"),renderDataRow("Ek kart \xfccreti",e=>"number"==typeof e.additionalCardFee&&e.additionalCardFee>0?"".concat(e.additionalCardFee," TL"):e.additionalCardFee?String(e.additionalCardFee):"-",!0),renderDataRow("Limit aşım \xfccreti",e=>"number"==typeof e.limitExceedingInterest&&e.limitExceedingInterest>0?"%".concat(e.limitExceedingInterest.toFixed(2)):e.limitExceedingInterest?String(e.limitExceedingInterest):"-",!1,!0)]})]})})})]})})}},29810:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return HeroCreditCards}});var r=a(57437),l=a(61396),n=a.n(l),s=a(16691),i=a.n(s),d=a(57042),o=a(24033),c=a(52539),m=a(13663),u=a(2265);let useHeroNavigation=e=>{let{type:t,data:a}=e,r=(0,o.usePathname)(),l=(0,o.useSearchParams)(),n=(0,u.useMemo)(()=>"categories"===t?"/kredi-karti/sorgulama":"/kredi-karti/kampanyalar",[t]),s=(0,u.useMemo)(()=>l.toString()?"".concat(r,"?").concat(l.toString()):r,[r,l]),i=(0,u.useMemo)(()=>"sectors"===t?l.get("sector"):null,[l,t]),isUrlActive=e=>!!e&&(s===e||s.startsWith(e+"/")),d=(0,u.useMemo)(()=>!!(a&&Array.isArray(a))&&a.some(e=>{let a="categories"===t?e.url:e.link;return a&&isUrlActive(a)}),[a,t,s]),c=(0,u.useMemo)(()=>!!Array.isArray(a)&&!d&&("categories"===t?r===n||r.startsWith(n)&&!l.toString():r===n&&!i),[d,r,n,l,i,t,a]),m=(0,u.useMemo)(()=>{if(!a||Array.isArray(a))return!1;let e="categories"===t?a.url:a.link;return!!e&&isUrlActive(e)},[a,t,s]);return{baseUrl:n,currentUrl:s,sectorSlug:i,isUrlActive,hasActiveSpecificItem:d,isAllButtonActive:c,isCurrentItemActive:m}},gAEvent=e=>{c.W.gAEvent({eventCategory:"Widget Click",eventAction:"Kredi Kartı Kategori Click",eventLabel:"".concat(e)})};function HeroCreditCardItem(e){var t;let{data:a,type:l}=e;if(!a)return null;let{isCurrentItemActive:s}=useHeroNavigation({type:l,data:a}),o="categories"===l?a.url:a.link,c=!!o&&o.trim().length>0,u=(0,r.jsxs)("div",{className:"flex w-full items-center justify-start gap-2 md:gap-3 md:p-0",children:[(0,r.jsx)("div",{className:"relative w-6 h-6 md:w-7 md:h-7 aspect-square shrink-0",children:a.logoPath&&(0,r.jsx)(i(),{quality:100,src:(0,m.$)(a.logoPath),alt:null!==(t=a.name)&&void 0!==t?t:"",fill:!0,className:"object-contain",unoptimized:!0,"data-testid":"icon"},(0,m.$)(a.logoPath))}),(0,r.jsx)("div",{className:"md:text-sm text-xs font-medium leading-4 md:leading-5","data-testid":"product-name",children:a.name})]}),x=(0,d.Z)("ml-1 group relative flex md:w-full items-center rounded-xl transition-all duration-100 ease-in-out w-[136px] p-4 flex-shrink-0 border",s?"bg-[#F0F0F9] border-[#4A49BB] text-generic-black":"bg-white border-transparent hover:bg-[#F0F0F9] hover:border-[#4A49BB] hover:text-generic-black");return c&&o?(0,r.jsx)(n(),{href:o,title:a.name,className:x,prefetch:!1,"data-testid":"cardLink",onClick:()=>gAEvent(null==a?void 0:a.name),children:u}):(0,r.jsx)("div",{title:a.name,className:x,"data-testid":"product-name",children:u})}let useHeroTitle=e=>{let{type:t,data:a,title:r,sectorSlug:l,pathname:n}=e,s=(0,u.useMemo)(()=>{if("sectors"===t){if(l&&a){let e="".concat(n,"?sector=").concat(l),t=a.find(t=>{var a;return t.link===e||(null===(a=t.link)||void 0===a?void 0:a.includes("sector=".concat(l)))});if(t)return"".concat(t.name," Kampanyaları")}if(!l)return"T\xfcm Kredi Kartı Kampanyaları"}return r},[t,l,a,r,n]);return{displayTitle:s}},HeroCreditCards_gAEvent=()=>{c.W.gAEvent({eventCategory:"Widget Click",eventAction:"Kredi Kartı Kategori Click",eventLabel:"T\xfcm kredi kartları g\xf6r"})};function HeroCreditCards(e){let{data:t,title:a,description:l,type:s}=e;if(!t)return null;let c=(0,o.usePathname)(),{baseUrl:m,sectorSlug:u,isAllButtonActive:x}=useHeroNavigation({type:s,data:t}),{displayTitle:p}=useHeroTitle({type:s,data:t,title:a,sectorSlug:u,pathname:c}),h="categories"===s?t.filter(e=>2===e.creditCardCategoryType):t;return(0,r.jsx)("div",{className:"bg-[#F0F4F7] py-6 md:py-12",children:(0,r.jsxs)("div",{className:"container grid grid-flow-row grid-cols-1 px-4 md:grid-cols-1","data-testid":"credit-card-hero-component",children:[p&&(0,r.jsx)("h1",{className:"text-xl font-semibold leading-7 tracking-[-0.64px] text-generic-black md:text-3xl md:leading-[40px]","data-testid":"title",children:p}),l&&(0,r.jsx)("div",{className:"mt-4 text-sm font-normal leading-5 text-[#3D3D3D] md:text-base md:leading-[24px]","data-testid":"description",children:l}),(0,r.jsx)("div",{"data-testid":"creditCardHeroButtons",className:"grid w-full gap-6 mt-6 md:mt-12 md:gap-8",children:(0,r.jsxs)("div",{className:"md:grid grid-cols-2 gap-3 md:grid-cols-7 md:gap-6 flex overflow-x-auto md:overflow-visible scrollbar-hide md:scrollbar-default",children:[(0,r.jsx)(n(),{title:"T\xfcm Kredi Kartları",className:(0,d.Z)("ml-1 group relative flex md:w-full items-center rounded-xl transition-all duration-100 ease-in-out w-[136px] p-4 flex-shrink-0 border",x?"bg-[#F0F0F9] border-[#4A49BB] text-generic-black":"bg-white border-transparent hover:bg-[#F0F0F9] hover:border-[#4A49BB] hover:text-generic-black"),"data-testid":"card",href:m,onClick:()=>HeroCreditCards_gAEvent(),children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-start gap-2 md:gap-3 md:p-0",children:[(0,r.jsx)("div",{className:"relative w-6 h-6 md:w-7 md:h-7 aspect-square shrink-0",children:(0,r.jsx)(i(),{quality:100,src:"/revolt-icons/icons/credit-card.svg",alt:"categories"===s?"T\xfcm kredi kartları":"T\xfcm\xfc",fill:!0,className:"object-contain",unoptimized:!0,"data-testid":"icon"})}),(0,r.jsx)("div",{className:"md:text-sm text-xs font-medium leading-4 md:leading-5","data-testid":"title",children:"categories"===s?"T\xfcm kredi kartları":"T\xfcm\xfc"})]})}),t&&h.map((e,t)=>"categories"===s?(0,r.jsx)(HeroCreditCardItem,{data:e,"data-testid":"card",type:"categories"},t):"sectors"===s?(0,r.jsx)(HeroCreditCardItem,{data:e,"data-testid":"card",type:"sectors"},t):null)]})})]})})}},68075:function(e,t,a){"use strict";a.r(t),a.d(t,{ListView:function(){return ListView}});var r,l,n,s,i,d=a(57437),o=a(2265),c=a(57042),m=a(74769),u=a(61408),x=a.n(u),p=a(54620),h=a.n(p),g=a(92278),f=a.n(g),b=a(70865),v=a(78885),j=a(1463);let useFacetToOptions=()=>{let e=(0,o.useCallback)(e=>e.map(e=>({code:e.code,name:e.name,bankName:null,displayOrder:e.displayOrder,count:e.count,disabled:!1,formattedWorkplaceCount:"",formattedAtmCount:""})),[]),t=(0,o.useCallback)(e=>(e.options||[]).map(e=>({code:e.code,name:e.name,bankName:null,displayOrder:e.displayOrder,count:e.count,disabled:!1,formattedWorkplaceCount:"",formattedAtmCount:""})),[]);return{convertFacetOptionsToOptions:e,transformFacetToOptions:t}};var y=a(2347),N=a(5314),k=a(52539);let gAEvent=(e,t)=>{k.W.gAEvent({eventCategory:"Sorgu-Text",eventAction:t||"",eventLabel:"".concat(e)})},SearchFilter=e=>{let{pageName:t}=e,{userAgent:a}=(0,v.Z)(),{searchText:r,setSearchText:l,performSearch:n}=(0,j.r)(),[s,i]=(0,o.useState)(""),[m,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{i(r)},[r]);let handleKeyDown=async e=>{"Enter"===e.key&&(e.preventDefault(),l(s),gAEvent(s,t),await n())},handleClear=async()=>{i(""),l(""),await n()},x=s.length>0;return(0,d.jsxs)("div",{className:(0,c.Z)("relative flex h-11 items-center gap-2 rounded-lg border bg-white p-3 transition-colors",{"w-full":a.isMobile,"w-[505px]":!a.isMobile,"border-primary-500":m,"border-neutral-200":!m}),children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)(N.W1,{className:"size-5","data-testid":"icon"})}),(0,d.jsx)("input",{"data-testid":"input",type:"text",value:s,onChange:e=>{i(e.target.value)},onKeyDown:handleKeyDown,onFocus:()=>{u(!0)},onBlur:()=>{u(!1)},placeholder:"Nasıl bir kredi kartı arıyorsun?",className:"flex-1 border-0 bg-transparent text-base text-generic-black outline-none placeholder:text-neutral-400 focus:ring-0"}),x&&(0,d.jsx)("button",{type:"button",onClick:handleClear,className:"flex items-center justify-center p-1 text-neutral-400 hover:text-neutral-600 transition-colors","aria-label":"Aramayı temizle",children:(0,d.jsx)(N.XE,{className:"size-5"})})]})},SelectedFilter=e=>{let{showClearAll:t=!1}=e,{selectedOptionsByFacet:a,handleSetActiveOptions:r,performSearch:l,products:n}=(0,j.r)(),s=(0,o.useCallback)(async(e,t)=>{let l=a[e]||[],n=l.filter(e=>e.code!==t),s=r(e);await s(n)},[a,r]),i=(0,o.useCallback)(async()=>{let e=Object.keys(a).map(async e=>{let t=r(e);return t([])});await Promise.all(e),await l()},[a,r,l]),c=(()=>{let e=[];return Object.entries(a).forEach(t=>{let[a,r]=t;r.forEach(t=>{e.push({facetCode:a,option:t})})}),e})();return 0===c.length?null:(0,d.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.length>0&&c.map(e=>{let{facetCode:t,option:a}=e;return(0,d.jsxs)("div",{className:"inline-flex items-center justify-center gap-2 rounded-3xl bg-neutral-50 px-3 py-1.5",children:[(0,d.jsx)("button",{onClick:()=>s(t,a.code),className:"flex size-4 items-center justify-center","aria-label":"".concat(a.name," filtresini kaldır"),children:(0,d.jsx)(N.Mj,{})}),(0,d.jsx)("div",{className:"justify-start text-sm font-medium text-neutral-700",children:a.name})]},"".concat(t,"-").concat(a.code))}),n.length>0&&t&&c.length>1&&(0,d.jsxs)("button",{onClick:i,className:"inline-flex items-center justify-center gap-2 rounded-3xl border text-sm text-neutral-700 font-medium  border-neutral-500 px-3 py-1.5",children:[(0,d.jsx)(N.XH,{}),(0,d.jsx)("span",{children:"Filtreleri temizle"})]})]})};var w=a(94903);let FilterButton=e=>{let{facet:t,activeOptionsCount:a,onMobileClick:r}=e,{openComboboxId:l,handleComboboxToggle:n}=(0,j.r)(),{userAgent:s}=(0,v.Z)(),i=l===t.code,u=(0,o.useCallback)(e=>{e.stopPropagation(),s.isMobile?null==r||r():n(t.code)},[s.isMobile,r,n,t.code]);return(0,d.jsxs)(w.zx,{onClick:u,size:w.Lp.Size.Small,variant:w.Lp.Variant.Outlined,"data-testid":"filter-button",className:(0,m.m6)((0,c.Z)("flex !h-11 items-center gap-[6px] !border-primary-100 p-[10px] font-medium hover:!border-primary-500 hover:!bg-primary-50 hover:!text-primary-500",{"!border-primary-500 !bg-primary-50 !text-primary-500":i||a>0})),children:[(0,d.jsx)("span",{"data-testid":"title",children:t.name}),(0,d.jsx)(N._1,{className:(0,c.Z)("size-5",{"rotate-180":i}),"data-testid":"icon"})]})};var C=a(72148);let MobileFilterModal_gAEvent=(e,t,a)=>{k.W.gAEvent({eventCategory:e,eventAction:t,eventLabel:a})},MobileFilterModal=e=>{let{title:t,isOpen:a,facetCode:r,options:l,search:n=!0,searchPlaceholder:s="Ara...",maxSelectionCount:i,eventCategory:u,eventAction:p,eventLabel:h,eventType:g,noResultsText:b="Sonu\xe7 bulunamadı",accessToken:v}=e,{getActiveOptionsForFacet:y,handleSetActiveOptions:k,closeModal:S}=(0,j.r)(),L=y(r),[A,E]=(0,o.useState)(""),[z,F]=(0,o.useState)([]),[T,O]=(0,o.useState)(!1),[I,K]=(0,o.useState)(!1),[M,D]=(0,o.useState)(!1),B=(0,o.useRef)(!1),_=(0,o.useRef)(L);(0,C.y)(),(0,o.useEffect)(()=>{_.current=L},[L]),(0,o.useEffect)(()=>(O(!0),()=>E("")),[]),(0,o.useEffect)(()=>{a&&!B.current?(F(_.current),B.current=!0):a||(B.current=!1,K(!1))},[a,T]),(0,o.useEffect)(()=>{!I&&T&&a&&B.current&&F(_.current)},[I,T,a]);let Z=(0,o.useMemo)(()=>A.length>0?f()(l,e=>e.name.toLocaleLowerCase("tr").includes(A.toLocaleLowerCase("tr"))):l,[A,l]),P=(0,o.useCallback)(e=>{let{value:t}=e.target;/^[a-zA-ZçÇğĞıİöÖşŞüÜ0-9](?:[a-zA-ZçÇğĞıİöÖşŞüÜ0-9 ]+)?$|^$/.test(t)&&E(t)},[]),H=(0,o.useCallback)(e=>{T&&F(t=>{let a=t.some(t=>t.code===e.code);return!a&&void 0!==i&&t.length>=i?t:(K(!0),a?t.filter(t=>t.code!==e.code):[...t,e])})},[i,T]),W=(0,o.useCallback)(()=>{T&&(K(!0),F([]))},[T]),R=(0,o.useCallback)(async()=>{let e=k(r,v);await e(z);let t=z.map(e=>e.name).join(", ");z.length>0&&("Filter"===g&&MobileFilterModal_gAEvent(u,p,"".concat(h,"_").concat(t)),"Compare"===g&&z.forEach(e=>{(null==e?void 0:e.name)&&MobileFilterModal_gAEvent(u,p,"".concat(h," - ").concat(e.name," - ").concat(e.bankName))})),K(!1),S()},[z,k,r,u,p,h,S]),V=(0,o.useCallback)(()=>{E(""),F(L),K(!1),S()},[L,S]);if(!a||!T)return null;let G=0===Z.length&&A.length>0;return(0,d.jsx)("div",{className:"fixed inset-0 z-50 overflow-hidden bg-white","data-testid":"combobox-list-component",children:(0,d.jsxs)("div",{className:"flex h-full flex-col",children:[(0,d.jsxs)("div",{className:"relative flex items-center justify-center border-b border-neutral-100 bg-background-50 px-4 py-[14px]",children:[(0,d.jsx)("button",{onClick:V,className:"absolute left-4 rounded-full transition-colors hover:bg-gray-50","aria-label":"Kapat","data-testid":"close-button",children:(0,d.jsx)(N.Tw,{className:"size-6 text-gray-700"})}),(0,d.jsx)("h1",{className:"text-base font-semibold text-generic-black","data-testid":"title",children:t})]}),(0,d.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,d.jsxs)("div",{className:"flex h-full flex-col",children:[n&&(0,d.jsx)("div",{className:"p-5",children:(0,d.jsxs)("div",{className:(0,c.Z)("relative rounded-[6px] border transition-colors",{"border-primary-500":M||A.length>0,"border-neutral-200":!M&&0===A.length}),children:[(0,d.jsx)(N.ol,{width:20,height:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,d.jsx)("input",{className:"h-11 w-full rounded-[6px] border-none bg-transparent pl-10 pr-4 font-medium text-neutral-900 outline-none placeholder:text-neutral-400",placeholder:s,value:A,onChange:P,onFocus:()=>D(!0),onBlur:()=>D(!1),maxLength:50,disabled:!T})]})}),(0,d.jsx)("div",{className:"flex-1 overflow-y-auto bg-white",children:(0,d.jsx)("ul",{className:"flex h-[calc(100%-22px)] flex-col gap-5 overflow-y-auto px-4 py-5",children:G?(0,d.jsxs)("li",{className:"flex flex-col items-center justify-center py-6 text-center","data-testid":"li",children:[(0,d.jsx)("span",{className:"text-wrap text-base font-semibold text-neutral-900","data-testid":"title",children:'"'.concat(A,'" ile ilgili herhangi bir sonu\xe7 bulunamadı.')}),(0,d.jsx)("span",{className:"mt-3 text-xs text-neutral-500","data-testid":"description",children:b})]}):x()(Z,e=>{let t=z.some(t=>t.code===e.code),a=e.disabled||!T||!t&&void 0!==i&&z.length>=i;return(0,d.jsx)("li",{"data-testid":"li",children:(0,d.jsxs)("button",{className:(0,c.Z)("flex w-full touch-manipulation items-center gap-3 text-left transition-colors",{"text-gray-400 cursor-not-allowed":a||!T}),type:"button",onClick:()=>H(e),disabled:a,"data-testid":"checkbox",children:[(0,d.jsx)("span",{className:(0,c.Z)("flex size-6 shrink-0 items-center justify-center rounded-md border-2 transition-colors",{"bg-primary-500 border-primary-500":t,"bg-gray-100 border-gray-300":(a||!T)&&!t,"bg-white border-gray-300":!a&&T&&!t}),children:t&&(0,d.jsx)(N.Ye,{className:"size-4 text-white"})}),(0,d.jsx)("span",{className:"text-base font-medium leading-6","data-testid":"title",children:e.name})]})},e.code)})})})]})}),(0,d.jsx)("div",{className:"bg-background-50 p-4 shadow-[0_-1px_2px_0_rgba(16,24,40,0.05)]",children:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)(w.zx,{variant:w.Lp.Variant.Outlined,size:w.Lp.Size.Small,className:(0,m.m6)((0,c.Z)("!w-[111px] rounded border px-4 py-2 text-sm font-medium hover:!bg-primary-50 hover:!text-primary-500",{"!text-primary-200 !border-primary-200 !bg-white !pointer-events-none":!T||G})),onClick:W,"data-testid":"clear-button",disabled:!T||G,children:"Temizle"}),(0,d.jsx)(w.zx,{variant:w.Lp.Variant.Filled,size:w.Lp.Size.Small,onClick:R,"data-testid":"apply-button",className:(0,m.m6)((0,c.Z)("flex-1 text-sm font-medium",{"!border-primary-200 !bg-primary-200 !pointer-events-none":!T||G})),disabled:!T||G,children:"Uygula"})]})})]})})},ListFilter=e=>{let{initialFacets:t,pageName:a,accessToken:r}=e,{userAgent:l}=(0,v.Z)(),{openComboboxId:n,handleComboboxToggle:s,handleSetActiveOptions:i,getActiveOptionsForFacet:u,setUserAgent:p,modalState:g,openModal:N,facets:k,setFacets:w}=(0,j.r)(),{convertFacetOptionsToOptions:C,transformFacetToOptions:S}=useFacetToOptions(),L=(0,o.useRef)(null);(0,y.N)(L,()=>{n&&s("")}),(0,o.useEffect)(()=>{p(l)},[l,p]),(0,o.useEffect)(()=>{t.length>0&&w(t)},[t,w]);let A=(0,o.useCallback)(e=>{N(e)},[N]);return(0,d.jsxs)("div",{className:"mb-8 md:mb-10","data-testid":"list-filter-component",children:[(0,d.jsx)("div",{className:"mb-3 font-semibold text-generic-black md:mb-4 md:text-base","data-testid":"title",children:"İhtiyacına g\xf6re kredi kartlarını filtrele"}),l.isMobile&&(0,d.jsx)("div",{className:"mb-4",children:(0,d.jsx)(SearchFilter,{pageName:a||"","data-testid":"search-component"})}),(0,d.jsxs)("div",{className:(0,m.m6)((0,c.Z)("flex gap-3",{"scrollbar-hide whitespace-nowrap overflow-x-auto":l.isMobile,"justify-between items-center":!l.isMobile})),children:[(0,d.jsx)("div",{ref:L,className:(0,m.m6)((0,c.Z)("scrollbar-hide flex gap-3 whitespace-nowrap",{"overflow-x-auto":l.isMobile})),children:x()(h()(f()(k||[],e=>e.options&&e.options.length>0),"displayOrder"),e=>{let t=n===e.code,l=u(e.code),s=C(e.options),o="bank"===e.code?"Farklı bir banka arayarak tekrar deneyebilirsiniz.":"Farklı bir arama yaparak tekrar deneyebilirsiniz.";return(0,d.jsxs)("div",{className:"relative shrink-0",children:[(0,d.jsx)(FilterButton,{facet:e,activeOptionsCount:l.length,onMobileClick:()=>A(e)}),t&&(0,d.jsx)("div",{className:"absolute left-0 top-full z-10 mt-1",children:(0,d.jsx)(b.G,{name:"filter-".concat(e.code),options:s,activeOptions:l,setActiveOptions:i(e.code,r),search:null!==e.placeHolder,searchPlaceHolder:e.placeHolder||"".concat(e.name," ara"),className:"min-w-[200px]",eventType:"Filter",eventCategory:"Filtre",eventAction:a||"",eventLabel:e.name,pageName:a||"",clickableClear:!0,enableScroll:!0,noResultsText:o,"data-testid":"combobox-list-component"})})]},e.code)})}),!l.isMobile&&(0,d.jsx)("div",{className:"shrink-0",children:(0,d.jsx)(SearchFilter,{pageName:a||"","data-testid":"search-component"})})]}),(0,d.jsx)(SelectedFilter,{showClearAll:!0}),g.isOpen&&g.activeFacet&&(0,d.jsx)(MobileFilterModal,{eventType:"Filter",title:g.activeFacet.name,isOpen:g.isOpen,facetCode:g.activeFacet.code,options:S(g.activeFacet),eventCategory:"Filtre",eventAction:a||"",eventLabel:g.activeFacet.name,searchPlaceholder:g.activeFacet.placeHolder||"".concat(g.activeFacet.name," ara"),search:null!==g.activeFacet.placeHolder,accessToken:r,noResultsText:"bank"===g.activeFacet.code?"Farklı bir banka arayarak tekrar deneyebilirsiniz.":"Farklı bir arama yaparak tekrar deneyebilirsiniz."})]})},useProductData=e=>{let{products:t,docTotal:a,channelCampaignCode:r}=e,{products:l,docTotal:n,isLoading:s,setProductsAndTotal:i,setOriginalProducts:d,setChannelCampaignCode:c}=(0,j.r)();(0,o.useEffect)(()=>{let e=t.map((e,t)=>({...e,feOrder:t+1}));i(e,a),c(r),e.length>0&&d(e)},[t,a,i,d]);let m=(0,o.useMemo)(()=>!s&&(0===n||null===n&&0===a),[n,a,s]);return{products:l,docTotal:null!==n?n:a,isLoading:s,shouldShowEmptyState:m}};(r=n||(n={}))[r.Default=0]="Default",r[r.ScoreDecreasing=1]="ScoreDecreasing",r[r.AnnualFeeIncreasing=2]="AnnualFeeIncreasing",r[r.CampaignCountDecreasing=3]="CampaignCountDecreasing",r[r.BankIncreasing=4]="BankIncreasing",r[r.CategoryIncreasing=5]="CategoryIncreasing",r[r.MobileAppOrder=6]="MobileAppOrder",r[r.AffilateOrder=7]="AffilateOrder",(l=s||(s={}))[l.Default=0]="Default",l[l.Commercial=43]="Commercial";let useDropdownState=()=>{let[e,t]=(0,o.useState)(null),[a,r]=(0,o.useState)(n.Default),[l,i]=(0,o.useState)(s.Default),{updateSearchParams:d,performSearchOrder:c,setCurrentPage:m,searchParams:u}=(0,j.r)(),x=(0,o.useCallback)(async t=>{"sort"===e?(r(t),d({...u,order:t,currentPage:1}),m(1)):(i(t),d({...u,categoryId:t,currentPage:1})),await c()},[e,d,c]),p=(0,o.useCallback)(a=>{t(e===a?null:a)},[e]);return{activeDropdown:e,selectedOrder:a,selectedCardType:l,handleSortingChange:x,toggleDropdown:p}},usePagination=e=>{let{isPaginationActive:t}=e,{products:a,docTotal:r,updateSearchParams:l,performSearchAndAppend:n,currentPage:s,setCurrentPage:i}=(0,j.r)(),d=(0,o.useCallback)(async()=>{let e=s+1;i(e),l({currentPage:e}),await n()},[s,l,n]),c=(0,o.useMemo)(()=>!!t&&!!r&&a.length<r,[t,a.length,r]);return{currentPage:s,handleLoadMore:d,shouldShowLoadMoreButton:c}};var S=a(40813);let L=null!==(i=(0,S.ej)("segmentId"))&&void 0!==i?i:"nonModelList",useProductImpressions=e=>{let{products:t,nativeCards:a,resetKey:r}=e,l=(0,o.useMemo)(()=>[...t.map(e=>{var t;return{type:"product",order:null!==(t=e.feOrder)&&void 0!==t?t:0,data:e}}),...a.map(e=>{var t;return{type:"native",order:null!==(t=e.listViewOrder)&&void 0!==t?t:0,data:e}})].sort((e,t)=>e.order===t.order?"native"===e.type?-1:1:e.order-t.order),[t,a]),[n,s]=(0,o.useState)([]),i=(0,o.useRef)(0);(0,o.useEffect)(()=>{s([]),i.current=0},[r]),(0,o.useEffect)(()=>{let e=l.length;s(t=>{let a=t.length?t[t.length-1].end:-1;if(e-1<a){let t=[],a=0;for(;a<e;){let r=e-a,l=r>=4?4:r;t.push({start:a,end:a+l-1}),a+=l}return t}let r=[...t],l=a+1;for(l<0&&(l=0);l<e;){let t=e-l,a=t>=4?4:t;r.push({start:l,end:l+a-1}),l+=a}return r}),i.current=e},[l.length]);let d=(0,o.useMemo)(()=>n.map(e=>({range:e,items:l.slice(e.start,e.end+1)})),[n,l]);return{groupedList:d,segmentId:L}};var A=a(16691),E=a.n(A),z=a(61396),F=a.n(z),T=a(15594),O=a(47885);let removeCardEvent=(e,t)=>{k.W.gAEvent({eventCategory:"Widget Click",eventLabel:"Kart \xc7ıkar - ".concat(e," - ").concat(t),eventAction:"Sahip Olduğun Kartlar"})},OwnedCards=e=>{let{data:t,accessToken:a,userAgent:r}=e,l=(0,j.r)(e=>e.ownedCards),n=(0,j.r)(e=>e.setOwnedCards),s=(0,j.r)(e=>e.initializeOwnedCards),i=(0,j.r)(e=>e.removeOwnedCard),[c,m]=(0,o.useState)(!0),[u,x]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1),g=(0,o.useRef)(null);(0,o.useEffect)(()=>{s(t)},[t,s]);let f="Mobile"===(0,O.l)(r),updateScrollState=()=>{if(!g.current)return;let e=g.current,{scrollLeft:t,scrollWidth:a,clientWidth:r}=e;x(t>0),h(t<a-r-1)};(0,o.useEffect)(()=>{updateScrollState();let e=g.current;if(e)return e.addEventListener("scroll",updateScrollState),window.addEventListener("resize",updateScrollState),()=>{e.removeEventListener("scroll",updateScrollState),window.removeEventListener("resize",updateScrollState)}},[l]);let handleToggleVisibility=()=>{m(!c),c&&k.W.gAEvent({eventCategory:"Widget Click",eventLabel:"Sahip Olduğun Kartlar",eventAction:"Gizle"})},handleRemoveCard=async e=>{if(!a){console.log("Access token not found");return}try{let c=await (0,T.J)({productIdsArray:[e],accessToken:a,device:(0,O.l)(r)});if(c.success){var t,s,d,o;removeCardEvent(null!==(d=null===(t=l.find(t=>t.productId===e))||void 0===t?void 0:t.bankName)&&void 0!==d?d:"",null!==(o=null===(s=l.find(t=>t.productId===e))||void 0===s?void 0:s.name)&&void 0!==o?o:""),n(c.data),await i(e)}else console.log("Failed to remove card:",c.data)}catch(e){console.error("Error removing card:",e)}},ShowHideButton=()=>(0,d.jsx)("div",{className:"flex items-center justify-start gap-3",children:(0,d.jsxs)(w.zx,{onClick:handleToggleVisibility,className:"flex h-10 items-center justify-center gap-1.5 rounded-md py-2.5",variant:w.Lp.Variant.Text,children:[(0,d.jsx)("div",{className:"justify-start text-center text-sm font-medium leading-tight text-secondary-500",children:"G\xf6ster"}),(0,d.jsx)(N.x7,{className:"size-4"})]})});return 0===l.length?null:c?(0,d.jsx)("div",{className:"container flex flex-col py-8 md:py-10","data-testid":"owned-cards-component",children:(0,d.jsxs)("div",{className:"flex flex-col items-start justify-start gap-6",children:[(0,d.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-neutral-800 md:text-xl","data-testid":"title",children:"Sahip olduğun kartlar"}),(0,d.jsxs)(w.zx,{onClick:handleToggleVisibility,className:"flex h-10 items-center justify-center gap-1.5 rounded-md py-2.5  transition-colors",variant:w.Lp.Variant.Text,"data-testid":"toggle-visibility-button",children:[(0,d.jsx)("span",{className:"text-sm font-medium leading-tight text-secondary-500",children:"Gizle"}),(0,d.jsx)(N.x7,{className:"size-4 rotate-180"})]})]}),(0,d.jsxs)("div",{className:"relative w-full",children:[l.length>5&&u&&(0,d.jsx)("button",{onClick:()=>{g.current&&(g.current.scrollBy({left:-249,behavior:"smooth"}),setTimeout(updateScrollState,300))},className:"absolute -left-4 top-1/2 z-20 flex size-9 -translate-y-1/2 items-center justify-center rounded-full bg-white shadow-lg outline outline-1 outline-offset-[-1px] outline-neutral-300","aria-label":"\xd6nceki kartlar","data-testid":"scroll-left-button",children:(0,d.jsx)(N.IK,{className:"size-4 rotate-180 hover:cursor-pointer"})}),l.length>5&&p&&(0,d.jsx)("button",{onClick:()=>{g.current&&(g.current.scrollBy({left:249,behavior:"smooth"}),setTimeout(updateScrollState,300))},className:"absolute -right-4 top-1/2 z-20 flex size-9 -translate-y-1/2 items-center justify-center rounded-full bg-white shadow-lg outline outline-1 outline-offset-[-1px] outline-neutral-300","aria-label":"Sonraki kartlar","data-testid":"scroll-right-button",children:(0,d.jsx)(N.IK,{className:"size-4 hover:cursor-pointer"})}),(0,d.jsx)("div",{ref:g,className:"-ml-[15px] -mt-[19px] flex gap-3 overflow-x-scroll px-[15px] pt-[19px] md:gap-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.map(e=>(0,d.jsxs)("div",{className:"relative flex min-w-[170px] flex-col items-center justify-start gap-4 rounded-xl border border-slate-300 bg-white p-3 md:min-w-[233px] md:p-4","data-testid":"card",children:[(0,d.jsx)("div",{className:"absolute left-2 top-2 -translate-x-1/2 -translate-y-1/2",children:(0,d.jsx)(w.zx,{onClick:()=>handleRemoveCard(e.productId),variant:w.Lp.Variant.Text,"data-testid":"remove-card-button",children:(0,d.jsx)(N.bY,{className:"size-[42px]"})})}),(0,d.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 md:gap-3",children:[(0,d.jsx)("div",{className:"relative h-12 w-20 overflow-hidden rounded md:h-16 md:w-24",children:(0,d.jsx)(E(),{src:e.logoPath,alt:"".concat(e.name," kredi kartı"),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 80px, 96px","data-testid":"image"})}),(0,d.jsxs)("div",{className:"flex flex-col items-center justify-start gap-0.5",children:[(0,d.jsx)("h3",{className:"text-center text-xs font-semibold leading-tight text-neutral-800 md:text-sm","data-testid":"title",children:e.name}),e.bankName&&(0,d.jsx)("p",{className:"text-center text-xs font-normal leading-none text-neutral-500","data-testid":"description",children:e.bankName})]})]}),e.campaignText&&(0,d.jsx)(F(),{href:e.campaignUrl,children:(0,d.jsx)(w.zx,{className:"flex items-center justify-center gap-1.5 rounded-none border-b border-indigo-700 py-1 transition-colors hover:border-indigo-800",variant:w.Lp.Variant.Text,"data-testid":"link",children:(0,d.jsx)("span",{className:"text-center text-xs font-medium leading-none text-indigo-700",children:e.campaignText})})})]},e.productId))})]})]})}):(0,d.jsx)("div",{className:"!md:container flex flex-col pb-8 md:py-10",children:(0,d.jsxs)("div",{className:" flex flex-col items-start md:items-center justify-start md:gap-14 gap-4 rounded-xl p-4 outline outline-1 outline-offset-[-1px] outline-slate-300 md:flex-row",children:[(0,d.jsxs)("div",{className:"flex flex-row md:flex-col items-center w-full md:w-fit justify-between gap-4 text-xl font-semibold text-neutral-800",children:["Sahip olduğun kartlar",f&&(0,d.jsx)(ShowHideButton,{})]}),(0,d.jsxs)("div",{className:"flex flex-1 items-start justify-start gap-3",children:[l.slice(0,f?3:10).map(e=>(0,d.jsx)(E(),{className:"relative h-9 w-14 rounded-[3px] shadow-[0px_4px_6px_-1px_rgba(16,24,40,0.10)]",src:e.logoPath,alt:"".concat(e.name," kredi kartı"),width:58,height:36},e.productId)),l.length>10&&(0,d.jsxs)("div",{className:"flex h-9 w-14 items-center justify-center rounded-[3px] bg-neutral-100 text-xs font-medium text-neutral-600 shadow-[0px_4px_6px_-1px_rgba(16,24,40,0.10)]",children:["+",l.length-(f?3:10)]})]}),!f&&(0,d.jsx)(ShowHideButton,{})]})})},LoadMoreButton=e=>{let{onLoadMore:t,isLoading:a=!1}=e;return(0,d.jsx)("div",{className:"flex w-full justify-center",children:(0,d.jsx)(w.zx,{onClick:t,variant:w.Lp.Variant.Text,"data-testid":"see-more-credit-cards-btn",size:w.Lp.Size.Normal,type:"dynamicBg",icon:"ArrowDownOrangeIcon",className:"text-center font-medium text-sm !text-secondary-500",disabled:a,children:a?"Y\xfckleniyor...":"Daha fazla kredi kartı g\xf6ster"})})};var I=a(84702),K=a(18665),M=a(48625),D=a(36825);a(24831);var B=a(35802);let ListItem=e=>{var t;let{item:a,index:r,userAgent:l,eventData:n,segmentId:s,accessToken:i}=e;if("native"===a.type){let e=a.data,t=l.isMobile?M.Z:D.Z;return(0,d.jsx)(t,{data:e,position:r,eventData:n,segmentId:s},"native-".concat(e.id))}let o=a.data;return(0,d.jsx)(B.DiscoverCreditCardItem,{product:o,position:r,userAgent:l,eventData:n,segmentId:s,showOwnCheckbox:!0,accessToken:i},"product-".concat(null!==(t=o.id)&&void 0!==t?t:r))},ProductGrid=e=>{let{groupedList:t,segmentId:a,userAgent:r,eventData:l,accessToken:n}=e,[s,i]=(0,o.useState)(new Set),[c,m]=(0,o.useState)({}),pushGroup=e=>{let t=e.range.start;if(s.has(t))return;let r=(0,K._x)({data:e.items.map(e=>e.data),eventData:l,segmentId:a,startIndex:e.range.start});k.W.productImpressionEvent({adrModelId:a,impressions:r,eventLabel:"Kredi Kartı"}),i(e=>new Set(e).add(t))};return(0,o.useEffect)(()=>{t.forEach((e,t)=>{if(c[t]){let t=e.range.start;s.has(t)||pushGroup(e)}})},[t,c,s]),(0,d.jsx)("div",{className:"mb-4 flex flex-col gap-8",children:t.map((e,t)=>(0,d.jsx)(I.df,{threshold:0,triggerOnce:!1,rootMargin:"0px 0px -20% 0px",onChange:e=>{m(a=>a[t]===e?a:{...a,[t]:e})},children:t=>{let{ref:s}=t;return(0,d.jsx)("div",{ref:s,className:"flex flex-col gap-4",children:e.items.map((t,s)=>(0,d.jsx)(ListItem,{item:t,index:e.range.start+s,userAgent:r,eventData:l,segmentId:a,accessToken:n},"list-item-".concat(t.data.id)))})}},"group-".concat(e.range.start,"-").concat(e.range.end)))})},EmptyState=e=>{let{userAgent:t,eventData:a,accessToken:r}=e,{searchText:l,selectedOptionsByFacet:n,originalProducts:s,clearAllFilters:i,isLoading:o}=(0,j.r)(),c=Object.values(n).some(e=>e.length>0),m=l.trim().length>0,u=s.slice(0,3),handleClearAllFilters=async()=>{await i()};return(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsxs)("div",{className:"mb-8 flex w-full flex-col items-center rounded-lg bg-neutral-50 py-8 md:mb-6",children:[(0,d.jsx)("div",{className:"mb-8 flex items-center justify-center md:mb-10",children:(0,d.jsx)(N.Zb,{className:"size-12"})}),(0,d.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,d.jsx)("div",{className:"mb-3 text-base font-semibold text-neutral-900 md:mb-4 md:text-lg",children:m?'"'.concat(l,'" ile ilgili kredi kartları bulunamadı.'):c?"Bu filtrelerde uygun bir kredi kartı bulunamadı.":"Kredi kartı bulunamadı."}),(0,d.jsx)("p",{className:"mb-6 text-xs text-neutral-500  md:text-sm",children:"Yeni bir arama yapabilir ya da \xf6nerilen kartlara g\xf6z atabilirsin."}),(0,d.jsx)(w.zx,{onClick:handleClearAllFilters,variant:w.Lp.Variant.Outlined,size:w.Lp.Size.Small,className:"h-8 w-[166px] text-xs font-medium md:h-10 md:w-[200px] md:text-sm",disabled:o,children:"T\xfcm kredi kartlarını listele"})]})]}),u.length>0&&(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("div",{className:"mb-3 text-lg font-semibold text-generic-black md:mb-6 md:text-xl",children:"\xd6nerilen kredi kartları"}),(0,d.jsx)("div",{className:"flex flex-col gap-4",children:u.map((e,l)=>{var n;let s={type:"product",order:null!==(n=e.position)&&void 0!==n?n:0,data:e};return(0,d.jsx)(ListItem,{item:s,index:l,userAgent:t,eventData:a,segmentId:"nonModelList",accessToken:r},"recommended-".concat(e.id))})})]})]})},CreditCardTypesFilter_gAEvent=(e,t)=>{k.W.gAEvent({eventCategory:"Filtre",eventAction:t||"",eventLabel:"Kredi Kartı T\xfcr\xfc_".concat(e)})},CreditCardTypesFilter=e=>{var t;let{isOpen:a,onToggle:r,categories:l,onChange:n,activeValue:i,pageName:c}=e,[m,u]=(0,o.useState)(!1),p=(0,o.useMemo)(()=>{var e;let t=l.find(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("\xf6ğrenci")});return[{value:s.Default,text:"Bireysel kartlar"},{value:s.Commercial,text:"Ticari kartlar"},{value:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:1,text:"\xd6ğrenci kartları"}]},[l]),[h,g]=(0,o.useState)(null!==(t=p.find(e=>e.value===i))&&void 0!==t?t:p[0]),f=(0,o.useRef)(null),b=(0,o.useCallback)(()=>{a&&r()},[a,r]);(0,y.N)(f,b,a);let handleClick=async e=>{g(e),n(e.value),r(),(null==h?void 0:h.value)!==e.value&&CreditCardTypesFilter_gAEvent(e.text,c),m||u(!0)};return(0,d.jsxs)("div",{ref:f,className:"relative","data-testid":"list-credit-card-types-filter",children:[(0,d.jsxs)(w.zx,{className:"flex gap-[6px] !border-neutral-200 !text-neutral-800 text-sm font-medium hover:!bg-white px-3 hover:!text-neutral-800",variant:w.Lp.Variant.Outlined,size:w.Lp.Size.Small,onClick:r,children:[(0,d.jsx)(N.fs,{width:20,height:20}),(0,d.jsx)("div",{className:"hidden md:inline-block line-clamp-1 max-w-[160px]","data-testid":"credit-card-types-toggle",children:(0,d.jsx)("span",{children:"Kredi Kartı T\xfcr\xfc"})})]}),a&&(0,d.jsx)("div",{className:"absolute right-0 z-30 mt-2 flex w-[303px] flex-col gap-6 rounded-md bg-white p-4 border shadow-sm border-neutral-300 md:w-[360px]","data-testid":"credit-card-types-content",children:(0,d.jsx)("div",{className:"flex max-h-[465px] flex-col gap-6 overflow-y-auto","data-testid":"credit-card-types-list",children:x()(p,e=>(0,d.jsxs)("button",{"data-testid":"credit-card-types-list-item",className:"apperance-none flex cursor-pointer items-center gap-3 text-left",onClick:()=>handleClick(e),children:[(null==h?void 0:h.value)===e.value?(0,d.jsx)("div",{className:"size-5 rounded-full border-[5px] border-primary-500"}):(0,d.jsx)("div",{className:"size-5 rounded-full border border-neutral-300"}),(0,d.jsx)("span",{className:"flex-1 text-sm font-medium md:text-base","data-testid":"credit-card-types-text",children:e.text})]},"sort-".concat(e.value)))})})]})},_=[{value:n.Default,text:"\xd6nerilen"},{value:n.AnnualFeeIncreasing,text:"Yıllık \xfccrete g\xf6re artan"},{value:n.CampaignCountDecreasing,text:"Kampanya sayısına g\xf6re azalan"}],SortingFilter_gAEvent=(e,t)=>{k.W.gAEvent({eventCategory:"Filtre",eventAction:t||"",eventLabel:"Sıralama_".concat(e)})},SortingFilter=e=>{var t,a;let{isOpen:r,onToggle:l,onChange:n,activeValue:s,pageName:i}=e,[c,m]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null!==(t=_.find(e=>e.value===s))&&void 0!==t?t:_[0]),h=(0,o.useRef)(null),g=(0,o.useCallback)(()=>{r&&l()},[r,l]);(0,y.N)(h,g,r);let handleClick=async e=>{p(e),n(e.value),l(),(null==u?void 0:u.value)!==e.value&&SortingFilter_gAEvent(e.text,i),c||m(!0)};return(0,d.jsxs)("div",{ref:h,className:"relative","data-testid":"list-sorting-filter",children:[(0,d.jsxs)(w.zx,{className:"flex gap-[6px] !border-neutral-200 !text-neutral-800 text-sm font-medium hover:!bg-white px-3 hover:!text-neutral-800",variant:w.Lp.Variant.Outlined,size:w.Lp.Size.Small,onClick:l,children:[(0,d.jsx)(N.Hh,{width:20,height:20}),(0,d.jsx)("div",{className:"hidden md:inline-block line-clamp-1 max-w-[180px]","data-testid":"sorting-toggle",children:(0,d.jsx)("span",{children:null!==(a=null==u?void 0:u.text)&&void 0!==a?a:"Sıralama"})})]}),r&&(0,d.jsx)("div",{className:"absolute right-0 z-30 mt-2 flex w-[303px] flex-col gap-6 rounded-md bg-white p-4 border shadow-sm border-neutral-300 md:w-[360px]","data-testid":"sorting-content",children:(0,d.jsx)("div",{className:"flex max-h-[465px] flex-col gap-6 overflow-y-auto","data-testid":"sorting-list",children:x()(_,e=>(0,d.jsxs)("button",{"data-testid":"sorting-list-item",className:"apperance-none flex cursor-pointer items-center gap-3 text-left",onClick:()=>handleClick(e),children:[(null==u?void 0:u.value)===e.value?(0,d.jsx)("div",{className:"size-5 rounded-full border-[5px] border-primary-500"}):(0,d.jsx)("div",{className:"size-5 rounded-full border border-neutral-300"}),(0,d.jsx)("span",{className:"flex-1 text-sm font-medium md:text-base","data-testid":"sorting-text",children:e.text})]},"sort-".concat(e.value)))})})]})},ProductListHeader=e=>{let{docTotal:t,activeDropdown:a,selectedOrder:r,selectedCardType:l,categories:n,onToggleDropdown:s,onSortingChange:i,page:o}=e;return(0,d.jsxs)("div",{"data-testid":"total-count-sorting-and-filtering-area",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-black md:text-xl","data-testid":"sorting-and-filtering-title",children:"Kredi Kartları"}),(0,d.jsxs)("div",{className:"flex justify-between items-end mb-4 md:mb-6",children:[(0,d.jsxs)("p",{className:"text-sm","data-testid":"total-listing-count",children:[(0,d.jsxs)("strong",{children:[t," adet"]})," kredi kartı listeleniyor."]}),(0,d.jsxs)("div",{className:"flex gap-3","data-testid":"sorting-and-filtering-dropdowns",children:[(0,d.jsx)(SortingFilter,{isOpen:"sort"===a,onToggle:()=>s("sort"),onChange:i,activeValue:r,pageName:null==o?void 0:o.name}),(0,d.jsx)(CreditCardTypesFilter,{isOpen:"type"===a,onToggle:()=>s("type"),categories:n,onChange:i,activeValue:l,pageName:null==o?void 0:o.name})]})]})]})},ListView=e=>{let{listData:t,userAgent:a,eventData:r,accessToken:l,page:n,ownedCards:s,channelCampaignCode:i}=e,o=useProductData({products:t.products,docTotal:t.docTotal,channelCampaignCode:i}),c=useDropdownState(),m=usePagination({isPaginationActive:t.isPaginationActive}),u=useProductImpressions({products:o.products,nativeCards:t.nativeCards});return(0,d.jsxs)("div",{className:"container flex flex-col py-8 md:py-10","data-testid":"credit-cards-listing-area",children:[(0,d.jsx)(ListFilter,{initialFacets:t.facets,pageName:null==n?void 0:n.name,accessToken:l}),(0,d.jsx)(OwnedCards,{data:s||[],accessToken:l,userAgent:a}),(0,d.jsx)(ProductListHeader,{docTotal:o.docTotal,activeDropdown:c.activeDropdown,selectedOrder:c.selectedOrder,selectedCardType:c.selectedCardType,categories:t.categories,onToggleDropdown:c.toggleDropdown,onSortingChange:c.handleSortingChange,page:n}),o.shouldShowEmptyState?(0,d.jsx)(EmptyState,{userAgent:a,eventData:r,accessToken:l}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ProductGrid,{groupedList:u.groupedList.length>0?u.groupedList:t.productGrid,segmentId:u.segmentId,userAgent:a,eventData:r,accessToken:l}),m.shouldShowLoadMoreButton&&(0,d.jsx)(LoadMoreButton,{onLoadMore:m.handleLoadMore,isLoading:o.isLoading})]})]})}},70865:function(e,t,a){"use strict";a.d(t,{G:function(){return ComboboxList}});var r=a(57437),l=a(2265),n=a(61408),s=a.n(n),i=a(57042),d=a(74769),o=a(2347),c=a(5314),m=a(32999),u=a(52539),x=a(94903),p=a(40813),h=a(20589),g=a.n(h);let gAEvent=(e,t,a)=>{u.W.gAEvent({eventCategory:e,eventAction:t,eventLabel:a})},ComboboxList=e=>{let{options:t,searchPlaceHolder:a="Kredi kartı ara",search:n=!0,handleClick:h,activeOptions:f,setActiveOptions:b,onApply:v,onClose:j,eventType:y,eventCategory:N,eventAction:k,eventLabel:w,clickableClear:C=!1,maxSelectionCount:S,pageName:L,enableScroll:A=!0,maxVisibleOptions:E=10,noResultsText:z="Sonu\xe7 bulunamadı"}=e,F=(0,l.useRef)(null),[T,O]=(0,l.useState)(t),[I,K]=(0,l.useState)(""),[M,D]=(0,l.useState)(!1),{setCurrentOptions:B}=(0,m.R)(),[_,Z]=(0,l.useState)(f),[P,H]=(0,l.useState)(!1),[W,R]=(0,l.useState)(!1),sendImpressionEvent=e=>{var t;let a=null!==(t=(0,p.ej)("segmentId"))&&void 0!==t?t:"nonModelList",r=e.map((e,t)=>({name:"".concat(e.bankName||""," ").concat(e.name||""),id:parseInt(e.code),price:"10.0",brand:e.bankName||"",list:L||"",category:"Kredi Kartı",item_adrModelId:a,position:t+3,quantity:1,sponsorship:"Hayır"}));u.W.productImpressionEvent({adrModelId:a,impressions:r,eventLabel:"Kredi Kartı"})};(0,o.N)(F,()=>{K("")});let toggleOption=e=>{if(!M)return;let t=_.some(t=>t.code===e.code),a=t?_.filter(t=>t.code!==e.code):[..._,e];(t||void 0===S||!(_.length>=S))&&(H(!0),Z(a),h&&h(e))};if((0,l.useEffect)(()=>{P&&M||Z(f)},[f,P,M]),(0,l.useEffect)(()=>(D(!0),()=>K("")),[]),(0,l.useEffect)(()=>{if(I.length>0){let e=t.filter(e=>{let t=I.toLowerCase(),a="".concat(e.name," ").concat(e.bankName).toLowerCase();return a.includes(t)});O(e)}else O(t)},[I,t]),!M)return null;let V=A&&T.length>E,G=V?{maxHeight:"".concat(33*E+(n?52:0),"px"),overflowY:"auto",overflowX:"hidden"}:{},U=0===T.length&&I.length>0;return(0,r.jsxs)("div",{className:"absolute top-full z-20 mt-2 w-[360px] rounded-lg border border-[#B0B0B0] bg-white p-5",ref:F,"data-testid":"combobox-list-component",children:[(0,r.jsx)("div",{className:(0,i.Z)(V?"".concat(g().customScroll," pr-3"):""),style:G,children:(0,r.jsxs)("div",{children:[n&&(0,r.jsx)("div",{className:"relative h-10 w-full",children:(0,r.jsxs)("div",{"data-testid":"search-component",className:(0,i.Z)("relative rounded-[6px] border transition-colors",{"border-primary-500":W||I.length>0,"border-neutral-200":!W&&0===I.length}),children:[(0,r.jsx)(c.ol,{width:20,height:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400","data-testid":"icon"}),(0,r.jsx)("input",{className:"h-10 w-full rounded-[6px] border-none bg-transparent pl-10 pr-4 font-medium text-neutral-900 outline-none placeholder:text-neutral-400",placeholder:a,value:I,onChange:e=>{let{value:t}=e.target;/^[a-zA-ZçÇğĞıİöÖşŞüÜ0-9](?:[a-zA-ZçÇğĞıİöÖşŞüÜ0-9 ]+)?$|^$/.test(t)&&K(t)},onFocus:()=>R(!0),onBlur:()=>R(!1),maxLength:50,disabled:!M,"data-testid":"input"})]})}),(0,r.jsx)("ul",{className:(0,i.Z)("flex flex-col gap-3",{"mt-4":n}),children:U?(0,r.jsxs)("li",{className:"flex flex-col items-center justify-center py-6 text-center","data-testid":"li",children:[(0,r.jsx)("span",{className:"text-wrap text-base font-semibold text-neutral-900","data-testid":"title",children:'"'.concat(I,'" ile ilgili herhangi bir sonu\xe7 bulunamadı.')}),(0,r.jsx)("span",{className:"mt-3 text-xs text-neutral-500","data-testid":"description",children:z})]}):s()(T,e=>{let t=_.some(t=>t.code===e.code),a=e.disabled||!t&&void 0!==S&&_.length>=S;return(0,r.jsx)("li",{"data-testid":"li",children:(0,r.jsxs)("button",{className:(0,i.Z)("flex w-full items-center gap-2 text-left font-normal",{"text-generic-black":!a&&M,"text-neutral-400 cursor-not-allowed":a||!M}),type:"button",onClick:()=>toggleOption(e),disabled:a||!M,"data-testid":"checkbox",children:[(0,r.jsx)("span",{className:(0,i.Z)("flex size-5 shrink-0 items-center justify-center rounded border",t?"bg-primary-500":a?"bg-[#E7E7E7]":"border-[#B0B0B0] bg-white"),children:t&&(0,r.jsx)(c.Ye,{className:"text-white"})}),(0,r.jsxs)("span",{"data-testid":"title",className:"text-sm font-medium",children:[e.name,e.bankName&&" - ".concat(e.bankName)]})]})},e.code)})})]})}),(0,r.jsxs)("div",{className:"flex gap-3 pt-6",children:[(0,r.jsx)(x.zx,{variant:x.Lp.Variant.Outlined,size:x.Lp.Size.Small,"data-testid":"clear-button",className:(0,d.m6)((0,i.Z)("w-[88px] rounded border px-4 py-2 text-sm font-medium hover:!bg-primary-50 hover:!text-primary-500 ",{"!text-primary-200 !border-primary-200 !bg-white !pointer-events-none":C&&0===_.length||!M||U})),onClick:()=>{M&&(H(!0),Z([]))},disabled:!M||U,children:"Temizle"}),(0,r.jsx)(x.zx,{variant:x.Lp.Variant.Filled,size:x.Lp.Size.Small,onClick:()=>{b(_),B(_);let e=_.map(e=>e.name).join(", ");0===_.length?(b([]),B([])):("Filter"===y&&gAEvent(N,k,"".concat(w,"_").concat(e)),"Compare"===y&&(_.forEach(e=>{(null==e?void 0:e.name)&&gAEvent(N,k,"".concat(w," - ").concat(e.name," - ").concat(e.bankName))}),sendImpressionEvent(_))),H(!1),v&&v()},"data-testid":"apply-button",className:(0,d.m6)((0,i.Z)("flex-1 text-sm font-medium",{" !border-primary-200 !bg-primary-200 !pointer-events-none":!M||U})),disabled:!M||U,children:"Uygula"})]})]})}},2347:function(e,t,a){"use strict";a.d(t,{N:function(){return useOutsideDetect}});var r=a(2265);function useOutsideDetect(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];(0,r.useEffect)(()=>{if(!a)return;let downListener=a=>{let r=e.current;!r||r.contains(a.target)||t(a)},escListener=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("pointerdown",downListener),document.addEventListener("keydown",escListener),()=>{document.removeEventListener("pointerdown",downListener),document.removeEventListener("keydown",escListener)}},[e,t,a])}},32999:function(e,t,a){"use strict";a.d(t,{R:function(){return l}});var r=a(94660);let l=(0,r.Ue)((e,t)=>({currentOptions:[],compareList:[],setCurrentOptions:t=>{e({currentOptions:[...t]})},clearCurrentOptions:()=>{e({currentOptions:[]})},addToCompareList:a=>{let r=t().compareList,l=a.filter(e=>!r.some(t=>t.code===e.code));e({compareList:[...r,...l]})}}))},20589:function(e){e.exports={customScroll:"comboboxListStyle_customScroll__xGxO0"}}}]);